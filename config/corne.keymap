/*
 * Copyright (c) 2020 The ZMK Contributors
 *
 * SPDX-License-Identifier: MIT
 */

#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/bt.h>

&mt {
        retro-tap;
};

/ {
        rp: require_prior_idle {
                compatible = "zmk,behavior-hold-tap";
                #binding-cells = <2>;
                flavor = "tap-preferred";
                tapping-term-ms = <200>;
                //quick-tap-ms = <200>;
                //require-prior-idle-ms = <125>;
                bindings = <&kp>, <&kp>;
        };

        keymap {
                compatible = "zmk,keymap";

                default {
// â•­â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â•®        â•­â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â•®
// â”‚  Q  â”‚  W  â”‚  E  â”‚  R  â”‚  T  â”‚        â”‚  Y  â”‚  U  â”‚  I  â”‚  O  â”‚  P  â”‚
// â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
// â”‚  A â‡§â”‚  S âŒƒâ”‚  D âŒ¥â”‚  F âŒ˜â”‚  G  â”‚   L0   â”‚  H  â”‚  J âŒ˜â”‚  K âŒ¥â”‚  L âŒƒâ”‚  ;:â‡§â”‚
// â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
// â”‚  Z  â”‚  X  â”‚  C  â”‚  V  â”‚  B  â”‚        â”‚  N  â”‚  M  â”‚  ,< â”‚  .> â”‚  /? â”‚
// â•°â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â•¯
//             â”‚  âŒ«  â”‚  â‹ Â²â”‚  â Â¹â”‚        â”‚  â£ Â¹â”‚  â†¹ Â²â”‚  âŒ«  â”‚
//             â•°â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â•¯        â•°â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â•¯
                        bindings = <
&none &kp Q            &kp W            &kp E            &kp R            &kp T                   &kp Y            &kp U            &kp I            &kp O            &kp P           &none
&none &rp LSHFT A      &rp LCTRL S      &rp LALT D       &rp LMETA F      &kp G                   &kp H            &rp RMETA J      &rp RALT K       &rp RCTRL L      &rp RSHFT SEMI  &none
&none &kp Z            &kp X            &kp C            &kp V            &kp B                   &kp N            &kp M            &kp COMMA        &kp DOT          &kp FSLH        &none
                                        &kp BSPC         &lt 2 ESC        &lt 1 RET               &lt 1 SPACE      &lt 2 TAB        &kp BSPC
                        >;
                };
                sym {
// â•­â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â•®        â•­â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â•®
// â”‚  !  â”‚  _  â”‚  -_ â”‚  +  â”‚  =+ â”‚        â”‚  [{ â”‚  (  â”‚  â†‘  â”‚  )  â”‚  ]} â”‚
// â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
// â”‚  @ â‡§â”‚  `~âŒƒâ”‚  * âŒ¥â”‚  ~ âŒ˜â”‚  #  â”‚   L1   â”‚  {  â”‚  â†  â”‚  â†“  â”‚  â†’  â”‚  } â‡§â”‚
// â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
// â”‚  &  â”‚  %  â”‚  $  â”‚  ^  â”‚  ğŸŒ â”‚        â”‚  ï„   â”‚  "  â”‚  '" â”‚  |  â”‚  \| â”‚
// â•°â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â•¯
//             â”‚  âŒ¦  â”‚  â‹  â”‚  â  â”‚        â”‚  â£  â”‚  â†¹  â”‚  âŒ¦  â”‚
//             â•°â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â•¯        â•°â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â•¯
                        bindings = <
&none &kp EXCL         &kp UNDER        &kp MINUS        &kp PLUS         &kp EQUAL               &kp LBKT         &kp LPAR         &kp UP           &kp RPAR         &kp RBKT        &none
&none &mt LSHFT AT     &mt LCTRL GRAVE  &mt LALT STAR    &mt LMETA TILDE  &kp HASH                &kp LBRC         &kp LEFT         &kp DOWN         &kp RIGHT        &mt RSHFT RBRC  &none
&none &kp AMPS         &kp PRCNT        &kp DOLLAR       &kp CARET        &kp LC(LG(SEMI))        &kp LC(LG(FSLH)) &kp DQT          &kp APOS         &kp PIPE         &kp BSLH        &none
                                        &kp DEL          &kp ESC          &kp RET                 &kp SPACE        &kp TAB          &kp DEL
                        >;
                };
                num {
// â•­â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â•®        â•­â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â•®
// â”‚ F9  â”‚ F10 â”‚ F11 â”‚ F12 â”‚  ïŠ“  â”‚        â”‚  ïŠ“â´ â”‚  7& â”‚  8* â”‚  9( â”‚  =+ â”‚
// â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
// â”‚ F5 â‡§â”‚ F6 âŒƒâ”‚ F7 âŒ¥â”‚ F8 âŒ˜â”‚  ïŠ“Â² â”‚   L2   â”‚  ïŠ“âµ â”‚  4$ â”‚  5% â”‚  6^ â”‚  '" â”‚
// â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
// â”‚ F1  â”‚ F2  â”‚ F3  â”‚ F4  â”‚  ïŠ“Â³ â”‚        â”‚  /? â”‚  1! â”‚  2@ â”‚  3# â”‚  -_ â”‚
// â•°â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â•¯
//             â”‚  âŒ¦  â”‚  â‹  â”‚  â  â”‚        â”‚  â£  â”‚  0) â”‚  âŒ¦  â”‚
//             â•°â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â•¯        â•°â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â•¯
                        bindings = <
&none &kp F9            &kp F10         &kp F11          &kp F12          &bt BT_NXT              &bt BT_SEL 3     &kp N7           &kp N8           &kp N9           &kp EQUAL       &none
&none &mt LSHFT F5      &mt LCTRL F6    &mt LALT F7      &mt LMETA F8     &bt BT_SEL 1            &bt BT_SEL 4     &kp N4           &kp N5           &kp N6           &kp APOS        &none
&none &kp F1            &kp F2          &kp F3           &kp F4           &bt BT_SEL 2            &kp FSLH         &kp N1           &kp N2           &kp N3           &kp MINUS       &none
                                        &kp DEL          &kp ESC          &kp RET                 &kp SPACE        &kp N0           &kp DEL
                        >;
                };
        };
};
